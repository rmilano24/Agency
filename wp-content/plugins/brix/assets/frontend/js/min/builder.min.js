"use strict";if(function(t){t.brix_transitions={},t.brix_transitions.checkSupport=function(){var e=t("body").get(0).style;return"transition"in e||"WebkitTransition"in e||"MozTransition"in e||"msTransition"in e||"OTransition"in e},t.brix_transitions.callback=function(e,i){function n(e,n){return(e=t(e)).get(0)===n.target&&("function"==typeof i&&i(t(e),n),!1)}var r=typeof e,o="transitionend.ev webkitTransitionEnd.ev oTransitionEnd.ev MSTransitionEnd.ev";if(t.brix_transitions.checkSupport())switch(r){case"object":t(e).each(function(){t(this).one(o,function(t){return n(this,t)})});break;case"string":t(document).on(o,e,function(t){return n(this,t)})}else"function"==typeof i&&t(e).each(function(){i(t(this))})}}(jQuery),"undefined"==typeof jQuery)throw new Error("jQuery is required.");!function(t){t.brixf={componentID:".brix-component",namespace:".brixf",ui:{event:"ui-build",signature:"brix-ui",components:[],components_count:0,components_built:0,add:function(e,i){t.brixf.ui.components.push({selector:e,callback:i}),t.brixf.ui.components_count++},do_build:function(){t.each(t.brixf.ui.components,function(){t.brixf.ui.components_built++;var e=this.selector,i=this.callback,n=t(e);(n=n.filter(function(){return"1"!==t(this).attr("data-"+t.brixf.ui.signature)})).length?(n.attr("data-"+t.brixf.ui.signature,"1"),i.call(n),t.brixf.ui.end_build()):t.brixf.ui.end_build()})},end_build:function(){t.brixf.ui.components_count===t.brixf.ui.components_built&&setTimeout(function(){t(".brix-tab-container").addClass("brix-tab-container-loaded")},5)},build:function(){t.brixf.ui.components_built=0,t.brixf.ui.do_build(),t(window).trigger(t.brixf.resolveEventName(t.brixf.ui.event,t.brixf.namespace))}},resolveNamespace:function(e){return""!==e&&-1===e.indexOf(".")&&(e="."+e),t.brixf.namespace+e},resolveEventName:function(e,i){var n="";return t.each(e.split(" "),function(){n+=" "+this+t.brixf.resolveNamespace(i)}),n=n.trim()},on:function(e,i,n,r){t(e).on(t.brixf.resolveEventName(i,n),r)},one:function(e,i,n,r){t(e).one(t.brixf.resolveEventName(i,n),r)},delegate:function(e,i,n,r){t(document).on(t.brixf.resolveEventName(i,n),e,r)},undelegate:function(e,i){t(document).off(t.brixf.resolveEventName(e,i))},template:function(e,i){if("undefined"==typeof _)throw new Error("Underscore is required.");var n=e;if("string"==typeof e&&(n=t("script[type='text/template'][data-template='"+e+"']")),!n.length)throw new Error("Template '"+e+"' not found.");var r={evaluate:/<#([\s\S]+?)#>/g,interpolate:/\{\{\{([\s\S]+?)\}\}\}/g,escape:/\{\{([^\}]+?)\}\}(?!\})/g};return parseFloat(brix_framework.wp_version)<4.5?_.template(n.html(),i,r):_.template(n.html(),r)(i)}},window.brix_ready=function(){t.brixf.ui.build(),void 0!==t.brixf.tabs&&t.brixf.tabs(".brix-tabs"+t.brixf.componentID),void 0!==t.brixf.accordion&&t.brixf.accordion(".brix-accordion"+t.brixf.componentID),t(this).trigger("brix_ready")},t(document).on("ready",function(){window.brix_ready()})}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){function e(){var e,i,n={height:c.innerHeight,width:c.innerWidth};return n.height||!(e=l.compatMode)&&t.support.boxModel||(n={height:(i="CSS1Compat"===e?d:l.body).clientHeight,width:i.clientWidth}),n}function i(){return{top:c.pageYOffset||d.scrollTop||l.body.scrollTop,left:c.pageXOffset||d.scrollLeft||l.body.scrollLeft}}function n(){var n,a=[],l=0;if(t.each(s,function(t,e){var i=e.data.selector,n=e.$element;a.push(i?n.find(i):n)}),n=a.length)for(r=r||e(),o=o||i();l<n;l++)if(t.contains(d,a[l][0])){var c,u,f,h=t(a[l]),p={height:h.outerHeight(),width:h.outerWidth()},g=h.offset(),b=h.data("inview");if(!o||!r)return;g.top+p.height>o.top&&g.top<o.top+r.height&&g.left+p.width>o.left&&g.left<o.left+r.width?(f=(c=o.left>g.left?"right":o.left+r.width<g.left+p.width?"left":"both")+"-"+(u=o.top>g.top?"bottom":o.top+r.height<g.top+p.height?"top":"both"),b&&b===f||h.data("inview",f).trigger("inview",[!0,c,u])):b&&h.data("inview",!1).trigger("inview",[!1])}}var r,o,a,s={},l=document,c=window,d=l.documentElement,u=t.expando;t.event.special.inview={add:function(e){s[e.guid+"-"+this[u]]={data:e,$element:t(this)},a||t.isEmptyObject(s)||(a=setInterval(n,250))},remove:function(e){try{delete s[e.guid+"-"+this[u]]}catch(t){}t.isEmptyObject(s)&&(clearInterval(a),a=null)}},t(c).bind("scroll resize scrollstop",function(){r=o=null}),!d.addEventListener&&d.attachEvent&&d.attachEvent("onfocusin",function(){o=null})}),function(t){t.brixf.inview=new function(){var e=this;this.inview_class="brix-inview",this.register=function(i,n,r){t(i).on("inview",function(i,o,a,s){o?t(this).hasClass(e.inview_class)||(t(this).addClass(e.inview_class),n&&n(t(this))):r&&t(this).removeClass(e.inview_class)})}}}(jQuery),function(t){t.brix_load_images=function(e,i){if(e=t(e),i=t.extend({},{preload:!0,attr:"src",background_attr:"bg",retina_attr:"srcset",retina_background_attr:"srcset-bg",all:function(){},single:function(){}},i),e.length){var n={images:[],loaded:0,parse_densities:function(t){var e="";if("object"==typeof t)if(t[window.devicePixelRatio])e=t[window.devicePixelRatio];else for(var i in t)i<window.devicePixelRatio&&(e=t[i]);else e=t;return e},get_src:function(e){var r="",o=!1;if((e=t(e)).is("img"))(o=(!(r=e.attr("src"))||""===r||"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="===r)&&e.data(i.attr)&&""!==e.data(i.attr))&&(r=e.data(i.attr)),e.data(i.retina_attr)&&""!==e.data(i.retina_attr)&&""!==(l=n.parse_densities(e.data(i.retina_attr)))&&(r=l,o=!0);else{var a=e.css("background-image").replace("url(","").replace(")",""),s=e.data(i.background_attr);if("none"!=a&&(r=a),""!=s&&(r=s,o=!0),e.data(i.retina_background_attr)&&""!==e.data(i.retina_background_attr)){var l=n.parse_densities(e.data(i.retina_background_attr));""!==l&&(r=l,o=!0)}}return{element:e,src:r,lazy:o}},load_callback:function(e){var n=e.element;this.loaded++,void 0!==e.src&&(n.is("img")&&e.lazy?t(n).attr("src",e.src):n.is("img")||t(n).css("background-image","url("+e.src+")"),t(n).removeClass("brix-loading")),i.single(n),this.loaded===this.images.length&&i.all(this.images)}};e.each(function(){n.images.push(t(this))}),t.each(n.images,function(){var e=this,r=n.get_src(e);void 0!==r.src&&r.element.addClass("brix-loading"),i.preload&&void 0!==r.src?t("<img />").one("load error",function(){n.load_callback(r)}).attr("src",r.src):n.load_callback(r)})}else i.all([])}}(jQuery),function(t){t.fn.fitVids=function(e){var i={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("div");r.innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>',n.appendChild(r.childNodes[1])}return e&&t.extend(i,e),this.each(function(){var e=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];i.customSelector&&e.push(i.customSelector);var n=".fitvidsignore";i.ignore&&(n=n+", "+i.ignore);var r=t(this).find(e.join(","));(r=(r=r.not("object object")).not(n)).each(function(e){var i=t(this);if(!(i.parents(n).length>0||"embed"===this.tagName.toLowerCase()&&i.parent("object").length||i.parent(".fluid-width-video-wrapper").length)){i.css("height")||i.css("width")||!isNaN(i.attr("height"))&&!isNaN(i.attr("width"))||(i.attr("height",9),i.attr("width",16));var r=("object"===this.tagName.toLowerCase()||i.attr("height")&&!isNaN(parseInt(i.attr("height"),10))?parseInt(i.attr("height"),10):i.height())/(isNaN(parseInt(i.attr("width"),10))?i.width():parseInt(i.attr("width"),10));if(!i.attr("id")){var o="fitvid"+e;i.attr("id",o)}i.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*r+"%"),i.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto),function(t,e){var i=function(){function i(t){i.instanceCounter++,this.init(t)}var n,r,o,a,s,l,c,d,u,f,h,p,g,b,m,v,x,w,_,y,k,S,A,j,C,N,E,T,I,B="http://www.w3.org/2000/svg",O="http://www.w3.org/1999/xlink",V="sprite",L=[V];return o=[],i.instanceCounter=0,i.prototype.init=function(i){i=i||{},n={},(l={}).isLocal="file:"===t.location.protocol,l.hasSvgSupport=e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),r={count:0,elements:[]},a={},(s={}).evalScripts=i.evalScripts||"always",s.pngFallback=i.pngFallback||!1,s.onlyInjectVisiblePart=i.onlyInjectVisiblePart||!0,s.keepStylesClass=void 0===i.keepStylesClass?"":i.keepStylesClass,s.spriteClassName=void 0===i.spriteClassName?V:i.spriteClassName,s.spriteClassIdName=void 0===i.spriteClassIdName?"sprite--":i.spriteClassIdName,s.removeStylesClass=void 0===i.removeStylesClass?"icon":i.removeStylesClass,s.removeAllStyles=void 0!==i.removeAllStyles&&i.removeAllStyles,s.fallbackClassName=void 0===i.fallbackClassName?L:i.fallbackClassName,s.prefixStyleTags=void 0===i.prefixStyleTags||i.prefixStyleTags,s.spritesheetURL=void 0!==i.spritesheetURL&&""!==i.spritesheetURL&&i.spritesheetURL,s.prefixFragIdClass=s.spriteClassIdName,s.forceFallbacks=void 0!==i.forceFallbacks&&i.forceFallbacks,s.forceFallbacks&&(l.hasSvgSupport=!1),k(e.querySelector("html"),"no-svg",l.hasSvgSupport),l.hasSvgSupport&&void 0===i.removeStylesClass&&y(s.removeStylesClass)},i.prototype.inject=function(t,e,i){if(void 0!==t.length){var n=0,r=this;E.call(t,function(o){r.injectElement(o,function(r){i&&"function"==typeof i&&i(r),e&&t.length===++n&&e(n)})})}else t?this.injectElement(t,function(n){i&&"function"==typeof i&&i(n),e&&e(1),t=null}):e&&e(0)},i.prototype.injectElement=function(t,e){var i,n=t.getAttribute("data-src")||t.getAttribute("src");if(!n){if(!s.spritesheetURL)return;if(""===(i=m(t)))return;n=s.spritesheetURL+"#"+i}t.setAttribute("data-src",n);var o=n.split("#");1===o.length&&o.push("");var a;if(/\.svg/i.test(n))if(l.hasSvgSupport)C(s.fallbackClassName)&&d(t,o[1],s.fallbackClassName),-1===r.elements.indexOf(t)&&(r.elements.push(t),_(e,n,t));else{var u=t.getAttribute("data-fallback")||t.getAttribute("data-png");u?(t.setAttribute("src",u),e(null)):s.pngFallback?(o.length>1&&o[1]?(a=o[1]+".png",C(s.fallbackClassName)?c(t,o[1],s.fallbackClassName):j(s.fallbackClassName)?s.fallbackClassName(t,o[1]):"string"==typeof s.fallbackClassName?N(t,s.fallbackClassName):t.setAttribute("src",s.pngFallback+"/"+a)):(a=n.split("/").pop().replace(".svg",".png"),t.setAttribute("src",s.pngFallback+"/"+a)),e(null)):e("This browser does not support SVG and no PNG fallback was defined.")}else e("Attempted to inject a file with a non-svg extension: "+n)},i.prototype.getEnv=function(){return l},i.prototype.getConfig=function(){return s},c=function(t,e,i){var n=void 0===i?L:i.slice(0);E.call(n,function(t,i){n[i]=t.replace("%s",e)}),N(t,n)},d=function(t,e,i){i=void 0===i?L.slice(0):i.slice(0);var n,r,o=t.getAttribute("class");void 0!==o&&null!==o&&(r=o.split(" "))&&(E.call(i,function(t){t=t.replace("%s",e),(n=r.indexOf(t))>=0&&(r[n]="")}),t.setAttribute("class",A(r.join(" "))))},f=function(t,e,i,n){var r=0;return t.textContent=t.textContent.replace(/url\(('|")*#.+('|")*(?=\))/g,function(t){return r++,t+"-"+e}),r},u=function(t,e){var i,n,r,o,a,s,l,c,d,u,f,h,p,g,b,m,v=[{def:"linearGradient",attrs:["fill","stroke"]},{def:"radialGradient",attrs:["fill","stroke"]},{def:"clipPath",attrs:["clip-path"]},{def:"mask",attrs:["mask"]},{def:"filter",attrs:["filter"]},{def:"color-profile",attrs:["color-profile"]},{def:"cursor",attrs:["cursor"]},{def:"marker",attrs:["marker","marker-start","marker-mid","marker-end"]}];E.call(v,function(v){for(n=t.querySelectorAll(v.def+"[id]"),o=0,r=n.length;o<r;o++){for(i=n[o].id+"-"+e,c=v.attrs,u=0,d=c.length;u<d;u++)for(a=t.querySelectorAll("["+c[u]+'="url(#'+n[o].id+')"]'),l=0,s=a.length;l<s;l++)a[l].setAttribute(c[u],"url(#"+i+")");for(f=t.querySelectorAll("[*|href]"),g=[],p=0,h=f.length;p<h;p++)f[p].getAttributeNS(O,"href").toString()==="#"+n[o].id&&g.push(f[p]);for(m=0,b=g.length;m<b;m++)g[m].setAttributeNS(O,"href","#"+i);n[o].id=i}})},h=function(t,e,i){var n;void 0===i&&(i=["id","viewBox"]);for(var r=0;r<t.attributes.length;r++)n=t.attributes.item(r),i.indexOf(n.name)<0&&e.setAttribute(n.name,n.value)},p=function(t){var i=e.createElementNS(B,"svg");return E.call(t.childNodes,function(t){i.appendChild(t.cloneNode(!0))}),h(t,i),i},g=function(t,e,i){var n,r,o,a,s,l,c=i.getAttribute("data-src").split("#"),d=t.textContent,u="";if(c.length>1)r=c[1],o=r+"-"+e,n=new RegExp("\\."+r+" ","g"),t.textContent=d.replace(n,"."+o+" ");else{for(a=c[0].split("/"),o=a[a.length-1].replace(".svg","")+"-"+e,n=new RegExp("([\\s\\S]*?){([\\s\\S]*?)}","g");null!==(s=n.exec(d));)(l=s[1].trim().split(", ")).forEach(function(t,e,i){i[e]="."+o+" "+t}),u+=l.join(", ")+"{"+s[2]+"}\n";t.textContent=u}i.setAttribute("class",i.getAttribute("class")+" "+o)},b=function(t){var e=t.getAttribute("class");return e?e.trim().split(" "):[]},m=function(t){var e=b(t),i="";return E.call(e,function(t){t.indexOf(s.spriteClassIdName)>=0&&(i=t.replace(s.spriteClassIdName,""))}),i},v=function(t,e,i){var n,r,o,a,s,l,c,d=!1,u=null;if(void 0===i)return e.cloneNode(!0);if(n=e.getElementById(i)){if(a=n.getAttribute("viewBox"),o=a.split(" "),n instanceof SVGSymbolElement)r=p(n),d=!0;else if(n instanceof SVGViewElement){if(u=null,t.onlyInjectVisiblePart){var f='*[width="'+o[2]+'"][height="'+o[3]+'"]';s={},0===Math.abs(parseInt(o[0]))?f+=":not([x])":(s.x=o[0],f+='[x="'+o[0]+'"]'),0===Math.abs(parseInt(o[1]))?f+=":not([y])":(s.y=o[1],f+='[y="'+o[1]+'"]'),(c=e.querySelectorAll(f)).length,u=c[0]}if(u&&u instanceof SVGSVGElement){r=u.cloneNode(!0);for(var h in s)"width"!==h&&"height"!==h&&r.removeAttribute(h)}else if(u&&u instanceof SVGUseElement){var g=e.getElementById(u.getAttributeNS(O,"href").substr(1));r=p(g),o=(a=g.getAttribute("viewBox")).split(" "),d=!0}else d=!0,r=e.cloneNode(!0)}d&&(r.setAttribute("viewBox",o.join(" ")),r.setAttribute("width",o[2]+"px"),r.setAttribute("height",o[3]+"px")),r.setAttribute("xmlns",B),r.setAttribute("xmlns:xlink",O),l=b(r);var m=t.prefixFragIdClass+i;return l.indexOf(m)<0&&(l.push(m),r.setAttribute("class",l.join(" "))),r}},x=function(t,e,i,n){o[t]=o[t]||[],o[t].push({callback:i,fragmentId:e,element:n,name:name})},w=function(t){for(var e,i=0,n=o[t].length;i<n;i++)!function(i){setTimeout(function(){e=o[t][i],S(t,e.fragmentId,e.callback,e.element,e.name)},0)}(i)},_=function(e,i,r){var o,a,s,c,d;if(o=i.split("#"),a=o[0],void 0!==(s=2===o.length?o[1]:void 0)&&(d=a.split("/"),c=d[d.length-1].replace(".svg","")),void 0!==n[a])n[a]instanceof SVGSVGElement?S(a,s,e,r,c):x(a,s,e,r);else{if(!t.XMLHttpRequest)return e("Browser does not support XMLHttpRequest"),!1;n[a]={},x(a,s,e,r);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(4===u.readyState){if(404===u.status||null===u.responseXML)return e("Unable to load SVG file: "+a),!1;if(!(200===u.status||l.isLocal&&0===u.status))return e("There was a problem injecting the SVG: "+u.status+" "+u.statusText),!1;if(u.responseXML instanceof Document)n[a]=u.responseXML.documentElement;else if(DOMParser&&DOMParser instanceof Function){var t;try{var r=new DOMParser;t=r.parseFromString(u.responseText,"text/xml")}catch(e){t=void 0}if(!t||t.getElementsByTagName("parsererror").length)return e("Unable to parse SVG file: "+i),!1;n[a]=t.documentElement}w(a)}},u.open("GET",a),u.overrideMimeType&&u.overrideMimeType("text/xml"),u.send()}},y=function(t){var i="svg."+t+" {fill: currentColor;}",n=e.head||e.getElementsByTagName("head")[0],r=e.createElement("style");r.type="text/css",r.styleSheet?r.styleSheet.cssText=i:r.appendChild(e.createTextNode(i)),n.appendChild(r)},k=function(t,e,i){i?t.className.replace(e,""):t.className+=" "+e},S=function(e,i,o,l,c){var d,p,m,x;if(void 0===(d=v(s,n[e],i))||"string"==typeof d)return o(d),!1;d.setAttribute("role","img"),E.call(d.children||[],function(t){t instanceof SVGDefsElement||t instanceof SVGTitleElement||t instanceof SVGDescElement||t.setAttribute("role","presentation")}),x=l.getAttribute("aria-hidden")||d.getAttribute("aria-hidden"),m=T("desc",d,l,i,c,!x),p=T("title",d,l,i,c,!x),x?d.setAttribute("aria-hidden","true"):d.setAttribute("aria-labelledby",p+" "+m),h(l,d,["class"]);var w=[].concat(d.getAttribute("class")||[],"injected-svg",l.getAttribute("class")||[]).join(" ");d.setAttribute("class",A(w)),u(d,r.count),d.removeAttribute("xmlns:a");for(var _,y,k=d.querySelectorAll("script"),S=[],j=0,C=k.length;j<C;j++)(y=k[j].getAttribute("type"))&&"application/ecmascript"!==y&&"application/javascript"!==y||(_=k[j].innerText||k[j].textContent,S.push(_),d.removeChild(k[j]));if(S.length>0&&("always"===s.evalScripts||"once"===s.evalScripts&&!a[e])){for(var N=0,I=S.length;N<I;N++)new Function(S[N])(t);a[e]=!0}var B=d.querySelectorAll("style");E.call(B,function(t){var e=b(d),i=!0;(e.indexOf(s.removeStylesClass)>=0||s.removeAllStyles)&&e.indexOf(s.keepStylesClass)<0?t.parentNode.removeChild(t):(f(t,r.count)>0&&(i=!1),s.prefixStyleTags&&(g(t,r.count,d),i=!1),i&&(t.textContent+=""))}),l.parentNode.replaceChild(d,l),delete r.elements[r.elements.indexOf(l)],r.count++,o(d)},A=function(t){for(var e={},i=(t=t.split(" ")).length,n=[];i--;)e.hasOwnProperty(t[i])||(e[t[i]]=1,n.unshift(t[i]));return n.join(" ")},j=function(t){return!!(t&&t.constructor&&t.call&&t.apply)},C=function(t){return"[object Array]"===Object.prototype.toString.call(t)},N=function(t,e){var i=t.getAttribute("class");i=i||"",C(e)&&(e=e.join(" ")),e=i+" "+e,t.setAttribute("class",A(e))},E=Array.prototype.forEach||function(t,e){if(void 0===this||null===this||"function"!=typeof t)throw new TypeError;var i,n=this.length>>>0;for(i=0;i<n;++i)i in this&&t.call(e,this[i],i,this)},T=function(t,e,i,n,o){var a,s=n?n+"-":"";return s+=t+"-"+r.count,(a=i.querySelector(t))?I(t,e,a.textContent,s,e.firstChild):(a=e.querySelector(t))?a.setAttribute("id",s):o?I(t,e,n,s,e.firstChild):s="",s},I=function(t,i,n,r,o){var a,s=i.querySelector(t);return s&&s.parentNode.removeChild(s),(a=e.createElementNS(B,t)).appendChild(e.createTextNode(n)),a.setAttribute("id",r),i.insertBefore(a,o),a},i}();"object"==typeof angular?angular.module("svginjector",[]).provider("svgInjectorOptions",function(){var t={};return{set:function(e){t=e},$get:function(){return t}}}).factory("svgInjectorFactory",["svgInjectorOptions",function(t){return new i(t)}]).directive("svg",["svgInjectorFactory",function(t){var e=t.getConfig();return{restrict:"E",link:function(i,n,r){r.class&&r.class.indexOf(e.spriteClassIdName)>=0?r.$observe("class",function(){t.inject(n[0])}):(r.dataSrc||r.src)&&t.inject(n[0])}}}]):"object"==typeof module&&"object"==typeof module.exports?module.exports=i:"function"==typeof define&&define.amd?define(function(){return i}):"object"==typeof t&&(t.SVGInjector=i)}(window,document),function(t){window.Brix_LoopBuilderBlock=function(e){var i=this;i.config=t.extend({},{handle:"",block_selector:"",loop_selector:"",pagination_selector:"",reload_selector:"",replacements:""},e),i.loading=!1,i.config.replacements=i.config.replacements.split(","),this.load=function(n,r,o,a){if(!i.loading){i.loading=!0;var s="brix-"+e.handle+"-block-loading",l="brix-"+e.handle+"-block-loading",c="brix-"+e.handle+"-block-loaded",d="brix_"+e.handle+"_ajax_pagination";a.addClass(s),a.trigger(l,[r]);var u={};u[d]="1",t.ajax({type:"POST",url:n,data:u,success:function(t){o&&o(t,function(){i.loading=!1}),a.removeClass(s),a.trigger(c)}})}},this.reload=function(n){var r=t(this).parents(e.block_selector).first(),o=r.attr("data-count"),a=r.attr("data-style");return n&&"string"==typeof n||(n=t(this).attr("href")),i.load(n,"reload",function(n){var s=t(e.block_selector+"[data-count='"+o+"']",n),l="brix_"+e.handle+"_block_reload_"+a,c="brix_"+e.handle+"_block_reload";"function"==typeof window[l]?(window[l](s),t(window).trigger("resize"),t(window).trigger(c,[r])):t.brix_load_images(t("img",s),{all:function(){var n=t(e.loop_selector,s).html(),o=t(e.pagination_selector,s);t(e.loop_selector,r).html(n),""!=o.html()?t(e.pagination_selector,r).length?t(e.pagination_selector,r).replaceWith(o):t(e.loop_selector,r).after(o):t(e.pagination_selector,r).remove(),i.config.replacements.length&&t.each(i.config.replacements,function(e,i){var n=t(i,s);""!=n.html()?t(i,r).length&&t(i,r).replaceWith(n):t(i,r).remove()}),t(window).trigger("resize"),t(window).trigger(c,[r])}})},r),!1},this.append=function(){var n=t(this).parents(e.block_selector).first(),r=n.attr("data-count"),o=n.attr("data-style");return i.load(t(this).attr("href"),"append",function(a){var s=t(e.block_selector+"[data-count='"+r+"']",a),l="brix_"+e.handle+"_block_append_"+o,c="brix_"+e.handle+"_block_append";if("function"==typeof window[l])window[l](s),t(window).trigger("resize"),t(window).trigger(c,[n]);else{var d=t(e.loop_selector,s).html(),u=t(e.pagination_selector,s);t.brix_load_images(t("img",s),{all:function(){t(e.loop_selector,n).append(d),""!=u.html()?t(e.pagination_selector,n).replaceWith(u):t(e.pagination_selector,n).remove(),i.config.replacements.length&&t.each(i.config.replacements,function(e,i){var r=t(i,s);""!=r.html()?t(i,n).length&&t(i,n).replaceWith(r):t(i,n).remove()}),t(window).trigger("resize"),t(window).trigger(c,[n])}})}},n),!1},this.bind=function(){var n=".brix-"+e.handle+"-pagination-ajax_reload .brix-"+e.handle+"-block-pagination-wrapper a",r=".brix-"+e.handle+"-pagination-ajax_append .brix-"+e.handle+"-block-pagination-wrapper [data-load-more]",o="brix_"+e.handle+"_block_reload",a="brix_"+e.handle+"_block_append";e.reload_selector&&(n+=","+e.reload_selector),t(document).off("click",n),t(document).off("click",r),t(document).on("click",n,this.reload),t(document).on("click",r,this.append),t(window).off(o+".brix_loop"),t(window).off(a+".brix_loop"),t(window).on(o+".brix_loop",function(){i.loading=!1}),t(window).on(a+".brix_loop",function(){i.loading=!1})},this.init=function(){t.brixf.ui.add(e.block_selector,function(){i.bind()})},this.init()}}(jQuery),jQuery,new Brix_LoopBuilderBlock({handle:"blog",block_selector:".brix-section-column-block-blog",loop_selector:".brix-blog-block-loop-wrapper",pagination_selector:".brix-blog-block-pagination-wrapper"}),function(t){new Brix_LoopBuilderBlock({handle:"woo-shop-grid",block_selector:".brix-section-column-block-woo_shop_grid",loop_selector:".brix-woo-shop-grid-block-loop-wrapper .products",pagination_selector:".brix-woo-shop-grid-block-pagination-wrapper",replacements:".woocommerce-result-count"})}(jQuery),function(t){t.brix=function(){var e=this,i=t("body").hasClass("brix-mobile");e.$brix=t(".brix-builder"),e.injector=new SVGInjector({evalScripts:!1}),this.extend_options=function(e,i){return void 0!==window[i]&&(e=t.extend({},e,window[i])),e},this.extend_option=function(t,e){return void 0!==window[e]&&(t=window[e]),t},this.inview=function(){t.brixf.inview.register(".brix-section",function(e){var n=t(".brix-background-video-container",e);if(t.brix_load_images(t(".brix-section-background-wrapper .brix-background-image",e),{single:function(e){setTimeout(function(){t(e).addClass("brix-background-loaded")},200)}}),t("video",n).length){if(i&&"1"==n.attr("data-mobile-disabled"))return;t("video",n)[0].play()}e.trigger("brix_section_inview")}),t.brixf.inview.register(".brix-section-column",function(e){var n=t(".brix-background-video-container",e);if(t.brix_load_images(t(".brix-column-background-wrapper .brix-background-image",e),{single:function(e){setTimeout(function(){t(e).addClass("brix-background-loaded")},200)}}),t("video",n).length){if(i&&"1"==n.attr("data-mobile-disabled"))return;t("video",n)[0].play()}e.trigger("brix_column_inview")}),t.brixf.inview.register(".brix-section-column-block",function(t){e.adjust_blocks(t),e.load_images(t),t.trigger("brix_block_inview")}),t.brixf.inview.register(".brix-section-column-block-gallery .brix-block-preloaded-img",function(i){t.brix_load_images(i,{single:function(t){t.trigger("brix-img-loaded"),t.addClass("brix-img-loaded"),e.adjust(),t.next().remove()}})})},this.load_images=function(i){if(!i.is(".brix-section-column-block-gallery")){var n=t(".brix-block-preloaded-img",i);if(n.length&&t.brix_load_images(n,{single:function(t){t.trigger("brix-img-loaded"),t.addClass("brix-img-loaded"),e.adjust(),t.next().remove()},all:function(){e.adjust()}}),t(".brix-icon[data-src]:not(.brix-block-preloaded-img)",i).length){var r=i[0].querySelectorAll(".brix-icon[data-src]:not(.brix-block-preloaded-img)");e.injector.inject(r,function(){},function(e){var i=parseInt(t(e).attr("width"),10),n=parseInt(t(e).attr("height"),10);e.setAttribute("viewBox","0 0 "+i+" "+n),setTimeout(function(){t(e).addClass("brix-icon-loaded")},1),t(e).trigger("brix-icon-loaded")})}}},this.adjust_blocks=function(e){t(e).is(".brix-fit-vids")?t(e).fitVids():t(".brix-fit-vids").length&&t(".brix-fit-vids").fitVids()},this.stretch_columns=function(){t(".brix-section-column-stretch").each(function(){var e=t(this).parents(".brix-extended-boxed").first(),i=t(this),n=t(".brix-section-column-spacing-wrapper",i).first(),r=t(".brix-background-wrapper",i).first();if(e.length){if(t(i).hasClass("brix-section-column-column-stretch")&&n.css({"margin-left":"","margin-right":""}),r.length&&r.css({left:"",right:""}),i.is(":first-child")){o=e.offset().left-i.offset().left;r.length&&r.css({left:o}),t(i).hasClass("brix-section-column-column-stretch")&&n.css({"margin-left":o})}if(i.is(":last-child")){var o=-1*(t(window).width()-(i.offset().left+i.outerWidth()));r.length&&r.css({right:o}),t(i).hasClass("brix-section-column-column-stretch")&&n.css({"margin-right":o})}}})},this.stretch_sections=function(){t(".brix-extended-extended, .brix-extended-boxed").each(function(){var i=t(this),n=t(window).width();i.css({width:"","padding-left":"","padding-right":"","margin-left":"","margin-right":""});var r=i.outerWidth(),o=i.offset().left,a=n-r-o,s=e.extend_option(0,"brix_extended_section_offset"),l=e.extend_option("left","brix_extended_section_offset_position"),c={width:n-s};switch(l){case"left":c["margin-left"]=-(o-s),c["margin-right"]=-a;break;case"right":c["margin-right"]=-(a-s),c["margin-left"]=-o}if(i.is(".brix-extended-boxed"))switch(l){case"left":c["padding-left"]=o-s,c["padding-right"]=a;break;case"right":c["padding-right"]=a-s,c["padding-left"]=o}i.css(c)})},this.adjust_columns=function(){var e=t("body").hasClass("brix-ua-safari");(i||e)&&t(".brix-section-row").each(function(e){var i=t(".brix-section-column",this);if(!(i.length<=1)){i.css("height","");var n=t(this),r=n.outerWidth(),o=[],a=0,s=0,l=0;i.each(function(){var e=parseInt(t(this).outerWidth(),10),i=s+e;t(this).outerHeight()>l&&(l=t(this).outerHeight()),o[a]||(o[a]={max:0,columns:[]}),o[a].max=l,o[a].columns.push(t(this)),i>=r&&(a++,l=0,s=0)}),t.each(o,function(e,i){i&&t.each(i.columns,function(){1!==i.columns.length&&(n.is(".brix-section-column-height-fluid")||t(this).css("height",i.max))})})}})},this.adjust_column_carousels=function(){t(".brix-section-column-carousel .brix-section-column-inner-wrapper").each(function(){if(t(this).data("flickity")){var e=0;t(".is-selected",this).each(function(){t(this).outerHeight()>e&&(e=t(this).outerHeight())}),t(".flickity-viewport",this).css("height",e)}})},this.adjust=function(){e.stretch_sections(),e.stretch_columns(),e.adjust_blocks(),e.adjust_column_carousels(),e.adjust_columns(),e.$brix.trigger("adjust.brix")},this.equalize_sections=function(){t(".brix-section:has(.brix-background-video-container)").each(function(){var e=0;t(this).css("height",""),t(this).outerHeight()>e&&(e=t(this).outerHeight()),t(this).css("height",e)}),t(".brix-section.brix-fluid-section").each(function(){var e=t(".brix-subsection",this);if(!(e.length<=1)){var i=t(this).outerWidth(),n=0,r=0;e.each(function(){t(this).css("height",""),r+=t(this).outerWidth(),t(this).outerHeight()>n&&(n=t(this).outerHeight())}),r>i||e.each(function(){t(this).is(".brix-subsection-type-standard")?t(this).css("height",n):t(".brix-section-column",this).css("height",n)})}})},this.bind=function(){t(window).off("resize.brix"),t(window).off("load.brix"),t(window).on("resize.brix",this.adjust),t(window).on("load.brix",this.load),t(document).on("brix-img-loaded",".brix-block-image-img",function(){t(this).prev().is(".brix-block-image-img-placeholder")&&(t(this).prev().remove(),setTimeout(function(){e.adjust_columns()},1))})},this.load=function(){e.adjust()},this.init=function(){t.brixf.ui.add(".brix-builder",function(){e.bind(),e.load(),e.inview()})},this.init()},window.brix=new t.brix}(jQuery);